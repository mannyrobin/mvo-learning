!function(e){"use strict";function r(e){var r,n=!0;try{r=new RegExp(e)}catch(t){n=!1}return n?r:(alert("Invalid regular expression"),!1)}function n(){var e,r=navigator.userAgent,n=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(r)||[],{name:"IE",version:e[1]||""}):"Chrome"===n[1]&&(e=r.match(/\bOPR\/(\d+)/),null!==e)?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=r.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function t(r){function n(e){return decodeURIComponent(e)}var t={},i=r||document.location.search;if(""===i)return t;for(i=i.replace(/(^\?)/,"").replace(/;/g,"&");i.indexOf("&&")!=-1;)i=i.replace(/&&/g,"&");i=i.replace(/([\&]+$)/,""),i=i.split("&");for(var a=0;a<i.length;a++){var o=i[a].split("=");if(o=e.map(o,n),void 0!==t[o[0]])if("string"==typeof t[o[0]]){var s=t[o[0]];""===o[1]&&(o[1]=null),t[o[0]]=[],t[o[0]].push(s),t[o[0]].push(o[1])}else"object"==typeof t[o[0]]&&(""===o[1]&&(o[1]=null),t[o[0]].push(o[1]));else""===o[1]&&(o[1]=null),t[o[0]]=o[1]}return t}var i,a=document.referrer,o=document.location.toString(),s=new MobileDetect(window.navigator.userAgent),u=PUM.getCookie("pum_alm_pages_viewed")||[],c=parseInt(pum_atc_vars.page)||-1;if("string"==typeof u&&(u=u.split(",")),u.length)for(var p=0;u.length>p;p++)u[p]=parseInt(u[p].trim());c>=0&&u.indexOf(c)===-1&&(u.push(c),e.pm_cookie("pum_alm_pages_viewed",u.join(","),{expires:"1 month"},"/")),i=t(),e.extend(e.fn.popmake.conditions,{url_is:function(e){var r=e.search||!1,n=new RegExp("^"+r+"$")||!1;return!r||n.test(o)},url_contains:function(e){var r=e.search||!1,n=new RegExp(r)||!1;return!r||n.test(o)},url_begins_with:function(e){var r=e.search||!1,n=new RegExp("^"+r);return!r||n.test(o)},url_ends_with:function(e){var r=e.search||!1,n=new RegExp(r+"$");return!r||n.test(o)},url_regex:function(e){var n=e.search||!1,t=r(n);return!n||!!t&&t.test(o)},query_arg_exists:function(e){var r=e.arg_name||!1;return!!r&&r in i},query_arg_is:function(e){var r=e.arg_name||!1,n=e.arg_value||!1;return!!r&&("undefined"!=typeof i[r]&&i[r]==n)},browser_is:function(e){var r,t=e.selected||[];for(r=0;t.length>r;r++)if(t[r]===n().name)return!0;return!1},browser_version:function(e){var r=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1,i=parseFloat(n().version);return r&&!t?i>r:t&&!r?t>i:!(!t||!r)&&(t>i&&i>r)},browser_width:function(e){var r=window.innerWidth,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},browser_height:function(e){var r=window.innerHeight,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},device_is_mobile:function(){return s.mobile()},device_is_phone:function(){return s.phone()},device_is_tablet:function(){return s.tablet()},device_is_brand:function(e){var r,n=e.selected||[];for(r=0;n.length>r;r++)if(s.is(n[r]))return!0;return!1},device_screen_width:function(e){var r=window.screen.width,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},device_screen_height:function(e){var r=window.screen.height,n=parseFloat(e.morethan)||!1,t=parseFloat(e.lessthan)||!1;return n&&!t?r>n:t&&!n?t>r:t&&n?t>r&&r>n:!t&&!n},referrer_is:function(e){var r=e.search||!1,n=new RegExp("^"+r+"$")||!1;return!r||n.test(a)},referrer_contains:function(e){var r=e.search||!1,n=new RegExp(r)||!1;return console.log(a,r,n,n.test(a)),!r||n.test(a)},referrer_begins_with:function(e){var r=e.search||!1,n=new RegExp("^"+r);return!r||n.test(a)},referrer_ends_with:function(e){var r=e.search||!1,n=new RegExp(r+"$");return!r||n.test(a)},referrer_regex:function(e){var n=e.search||!1,t=r(n);return!n||!!t&&t.test(a)},referrer_is_search_engine:function(e){var n,t=e.search||[];return"string"!=typeof t&&(t=t.join("|")),n=r(t),n.test(a)},referrer_is_external:function(){return""!==a&&a.indexOf(location.protocol+"//"+location.host)===-1},cookie_exists:function(r){var n=r.cookie_name||!1;return!!n&&void 0!==e.fn.popmake.cookie.process(n)},cookie_is:function(r){var n=r.cookie_name||!1,t=r.cookie_value||!1;return!!n&&(void 0!==e.fn.popmake.cookie.process(n)&&e.fn.popmake.cookie.process(n)==t)},page_views:function(r){var n=parseInt(PUM.getCookie("pum_alm_page_views"))||0,t=parseFloat(r.morethan)||!1,i=parseFloat(r.lessthan)||!1;return"number"!=typeof n&&(n=0),n++,e.pm_cookie("pum_alm_page_views",n,{expires:"1 day"},"/"),t&&!i?n>t:i&&!t?i>n:i&&t?i>n&&n>t:!i&&!t},time_on_site:function(r){var n,t=PUM.getCookie("pum_alm_first_activity")||!1,i=PUM.getCookie("pum_alm_last_activity")||!1,a=new Date,o=parseFloat(r.morethan)||!1,s=parseFloat(r.lessthan)||!1;return(!t||i+3600<a.getTime())&&(t=new Date,t=t.getTime(),e.pm_cookie("pum_alm_first_activity",t,{expires:"1 day"},"/")),e.pm_cookie("pum_alm_last_activity",a.getTime(),{expires:"1 day"},"/"),n=a.getTime()-t,o&&!s?n>60*o*1e3:s&&!o?60*s*1e3>n:s&&o?60*s*1e3>n&&n>60*o*1e3:!s&&!o},has_viewed_page:function(e){var r=e.selected||[];if("string"==typeof r&&(r=r.split(",")),r.length)for(var n=0;r.length>n;n++){var t=parseInt(r[n].trim());if(t>=0&&u.indexOf(t)===-1)return!1}return!0},js_function:function(e){return void 0!==e.function_name&&"function"==typeof window[e.function_name]&&window[e.function_name]()}})}(jQuery);