!function(e){"use strict";function o(){return c.innerHeight()-n.height()}function t(){return n.scrollTop()/o()}function i(){return n.height()*t()}function r(e){var o=n.scrollTop();if(void 0!==e)switch(e){case"floating":o+=i();break;case"bottom":o+=n.height()}return o}var n=e(window),c=e(document);e(".popmake.scroll-triggered").on("popmakeInit",function(){var t,i,a,p=e(this),l=p.data("popmake"),g=l.meta.scroll_triggered,s="scroll.popmake_scroll_triggered-"+l.id,f="popmake-scroll-triggered-"+l.id+"-"+g.cookie_key,k=function(){return void 0!==e.pm_cookie(f)},m=g.trigger_point;if(void 0!==g){switch(p.on("popmakeSetCookie.scroll-triggered",function(){""===g.cookie_time||k()||e.pm_cookie(f,!0,g.cookie_time,g.cookie_path)}).on("popmakeAfterOpen",function(){"open"===g.cookie_trigger&&p.trigger("popmakeSetCookie.scroll-triggered")}).on("popmakeBeforeClose",function(){"close"===g.cookie_trigger&&p.trigger("popmakeSetCookie.scroll-triggered")}),g.trigger){case"distance":switch(g.unit){case"px":t=g.distance;break;case"%":t=g.distance/100*c.innerHeight(),m="floating";break;case"rem":t=Number(getComputedStyle(document.body,"").fontSize.match(/(\d*(\.\d*)?)px/)[1])*g.distance}break;case"manual":e("#scroll_pop_trigger-"+l.id).length&&(t=e("#scroll_pop_trigger-"+l.id).offset().top);break;case"element":e(g.trigger_element).length&&(t=e(g.trigger_element).eq(0).offset().top)}t&&(t>=o()&&(!m||void 0===m)&&(m="bottom"),i=function(){return k()||p.hasClass("active")?void n.off(s):void(r(m)>=t&&(n.off(s),e.fn.popmake.last_open_trigger="Scroll Pop ID-"+l.id,p.popmake("open",function(){g.close_on_up&&n.on(s,a),p.off("popmakeBeforeOpen.analytics")})))},a=function(){return p.hasClass("active")?void(r(m)<t&&(n.off(s),n.on(s,i),e.fn.popmake.last_close_trigger="Scroll Up",p.popmake("close"),p.off("popmakeBeforeClose.analytics"))):void n.off(s)},n.on(s,i))}})}(jQuery);